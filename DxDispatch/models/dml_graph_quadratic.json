{
    "$schema": "./_schema.json",
    
    "resources": 
    {
        "x": 
        {
            "initialValuesDataType": "FLOAT32",
            "initialValues": [4,-2,3,-5]
        },
        "c": 
        {
            "initialValuesDataType": "FLOAT32",
            "initialValues": [1,2,3,4]
        },
        "y": 
        {
            "initialValuesDataType": "FLOAT32",
            "initialValues": { "valueCount": 4, "value": 0 }
        }
    },

    "dispatchables": 
    {
        "node_0":
        {
            "type": "DML_OPERATOR_ELEMENT_WISE_IDENTITY",
            "desc": 
            {
                "InputTensor": { "DataType": "FLOAT32", "Sizes": [4] },
                "OutputTensor": { "DataType": "FLOAT32", "Sizes": [4] },
                "ScaleBias": { "Scale": 2, "Bias": 10 }
            }
        },

        "node_1":
        {
            "type": "DML_OPERATOR_ELEMENT_WISE_MULTIPLY",
            "desc": 
            {
                "ATensor": { "DataType": "FLOAT32", "Sizes": [4] },
                "BTensor": { "DataType": "FLOAT32", "Sizes": [4] },
                "OutputTensor": { "DataType": "FLOAT32", "Sizes": [4] }
            }
        },

        "node_2": 
        {
            "type": "DML_OPERATOR_ELEMENT_WISE_ADD",
            "desc": 
            {
                "ATensor": { "DataType": "FLOAT32", "Sizes": [4] },
                "BTensor": { "DataType": "FLOAT32", "Sizes": [4], "Flags": "OWNED_BY_DML" },
                "OutputTensor": { "DataType": "FLOAT32", "Sizes": [4] }
            }
        },

        "graph":
        {
            "type": "DML_GRAPH_DESC",
            "desc": 
            {
                "InputCount": 2,
                "OutputCount": 1,
                "Nodes": 
                [
                    { "Type": "DML_GRAPH_NODE_TYPE_OPERATOR", "Name": "node_0" },
                    { "Type": "DML_GRAPH_NODE_TYPE_OPERATOR", "Name": "node_1" },
                    { "Type": "DML_GRAPH_NODE_TYPE_OPERATOR", "Name": "node_2" }
                ],
                "InputEdges":
                [
                    { "GraphInputIndex": 0, "ToNodeIndex": 0, "ToNodeInputIndex": 0, "Name": "x" },
                    { "GraphInputIndex": 0, "ToNodeIndex": 1, "ToNodeInputIndex": 0, "Name": "x" },
                    { "GraphInputIndex": 1, "ToNodeIndex": 2, "ToNodeInputIndex": 1, "Name": "c" }
                ],
                "OutputEdges":
                [
                    { "FromNodeIndex": 2, "FromNodeOutputIndex": 0, "GraphOutputIndex": 0, "Name": "ax^2+bx+c" }
                ],
                "IntermediateEdges":
                [
                    { "FromNodeIndex": 0, "FromNodeOutputIndex": 0, "ToNodeIndex": 1, "ToNodeInputIndex": 0, "Name": "ax+b" },
                    { "FromNodeIndex": 1, "FromNodeOutputIndex": 0, "ToNodeIndex": 2, "ToNodeInputIndex": 1, "Name": "ax^2+bx" }
                ]
            },
            "bindings":
            {
                "in_1": "c"
            }
        }
    },

    "commands": 
    [
        {
            "type": "dispatch",
            "dispatchable": "graph",
            "bindings":
            {
                "in_0": "x",
                "out_0": "y"
            }
        },
        { "type": "print", "resource": "y" }
    ]
}