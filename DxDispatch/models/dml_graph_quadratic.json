{
    "$schema": "./_schema.json",
    
    "resources": 
    {
        "x": 
        {
            "initialValuesDataType": "FLOAT32",
            "initialValues": [4,-2,3,-5]
        },
        "y": 
        {
            "initialValuesDataType": "FLOAT32",
            "initialValues": { "valueCount": 4, "value": 0 }
        }
    },

    "dispatchables": 
    {
        "node_0":
        {
            "type": "DML_OPERATOR_ELEMENT_WISE_IDENTITY",
            "desc": 
            {
                "InputTensor": { "DataType": "FLOAT32", "Sizes": [4] },
                "OutputTensor": { "DataType": "FLOAT32", "Sizes": [4] },
                "ScaleBias": { "Scale": 2, "Bias": 10 }
            }
        },

        "node_1":
        {
            "type": "DML_OPERATOR_ELEMENT_WISE_MULTIPLY",
            "desc": 
            {
                "ATensor": { "DataType": "FLOAT32", "Sizes": [4] },
                "BTensor": { "DataType": "FLOAT32", "Sizes": [4] },
                "OutputTensor": { "DataType": "FLOAT32", "Sizes": [4] }
            }
        },

        "node_2": 
        {
            "type": "DML_OPERATOR_ELEMENT_WISE_IDENTITY",
            "desc": 
            {
                "InputTensor": { "DataType": "FLOAT32", "Sizes": [4] },
                "OutputTensor": { "DataType": "FLOAT32", "Sizes": [4] },
                "ScaleBias": { "Scale": 0, "Bias": 3.5 }
            }
        },

        "graph":
        {
            "type": "DML_GRAPH_DESC",
            "desc": 
            {
                "InputCount": 1,
                "OutputCount": 1,
                "Nodes": 
                [
                    { "type": "DML_GRAPH_NODE_TYPE_OPERATOR", "Name": "node_0" },
                    { "type": "DML_GRAPH_NODE_TYPE_OPERATOR", "Name": "node_1" },
                    { "type": "DML_GRAPH_NODE_TYPE_OPERATOR", "Name": "node_2" }
                ],
                "InputEdges":
                [
                    { "GraphInputIndex": 0, "ToNodeIndex": 0, "ToNodeInputIndex": 0, "Name": "x" },
                    { "GraphInputIndex": 0, "ToNodeIndex": 1, "ToNodeInputIndex": 0, "Name": "x" }
                ],
                "OutputEdges":
                [
                    { "FromNodeIndex": 2, "FromNodeOutputIndex": 0, "GraphOutputIndex": 0, "Name": "ax^2+bx+c" }
                ],
                "IntermediateEdges":
                [
                    { "FromNodeIndex": 0, "FromNodeOutputIndex": 0, "ToNodeIndex": 1, "ToNodeInputIndex": 0, "Name": "ax+b" },
                    { "FromNodeIndex": 1, "FromNodeOutputIndex": 0, "ToNodeIndex": 2, "ToNodeInputIndex": 1, "Name": "ax^2+bx" }
                ]
            }
        }
    },

    "commands": 
    [
        {
            "type": "dispatch",
            "dispatchable": "graph",
            "inputBindings": [ "x" ],
            "outputBindings": [ "y" ]
        },
        { "type": "print", "resource": "y" }
    ]
}